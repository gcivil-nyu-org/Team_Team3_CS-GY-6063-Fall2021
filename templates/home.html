{% extends 'base.html' %}

{% block title %}Home{% endblock %}

{% block content %}
{% if messages %}
    {% for message in messages %}
        <div class="alert {% if message.tags %}alert-{{ message.tags }}{% endif %}" role="alert">{{ message }}</div>
    {% endfor %}
{% endif %}
{% if user.is_authenticated %}
<div class="d-flex flex-column align-items-center">
  <h1 style="color: white;">Hi {{ user.first_name }} {{ user.last_name }}!</h1>
  <p style="color: white;">Upcoming Events</p>
</div>
  <div style="display: flex; flex-direction:row; flex-wrap: wrap; margin: 1rem">
  {% for event in events %}
      {% now "Y-m-d H:i:s" as todays_date %}
      {% if todays_date < event.event.date|date:"Y-m-d H:i:s" %}
        <div class="card" style="width: 20rem; margin: 1rem">

        {% if event.event.sport == "Bocce" %}
          <img class="card-img-top" style="max-height: 200px;
          min-height: 200px;" src="../media/sports/bocce.jpg">
        {% elif event.event.sport == "Baseball" %}
          <img class="card-img-top" style="max-height: 200px;
          min-height: 200px;" src="../media/sports/baseball.jpg">
        {% elif event.event.sport == "Basketball" %}
          <img class="card-img-top" style="max-height: 200px;
          min-height: 200px;" src="../media/sports/basketball.jpg">
        {% elif event.event.sport == "Cricket" %}
          <img class="card-img-top" style="max-height: 200px;
          min-height: 200px;" src="../media/sports/cricket.jpg">
        {% elif event.event.sport == "Flag Football" %}
          <img class="card-img-top" style="max-height: 200px;
          min-height: 200px;" src="../media/sports/flag_football.jpg">
        {% elif event.event.sport == "Football" %}
          <img class="card-img-top" style="max-height: 200px;
          min-height: 200px;" src="../media/sports/football.jpg">
        {% elif event.event.sport == "Frisbee" %}
          <img class="card-img-top" style="max-height: 200px;
          min-height: 200px;" src="../media/sports/frisbee.jpg">
        {% elif event.event.sport == "Handball" %}
          <img class="card-img-top" style="max-height: 200px;
          min-height: 200px;" src="../media/sports/handball.jpg">
        {% elif event.event.sport == "Hiking" %}
          <img class="card-img-top" style="max-height: 200px;
          min-height: 200px;" src="../media/sports/hiking.jpg">
        {% elif event.event.sport == "Hockey" %}
          <img class="card-img-top" style="max-height: 200px;
          min-height: 200px;" src="../media/sports/hockey.jpg">
        {% elif event.event.sport == "Kickball" %}
          <img class="card-img-top" style="max-height: 200px;
          min-height: 200px;" src="../media/sports/kickball.jpg">
        {% elif event.event.sport == "Lacrosse" %}
          <img class="card-img-top" style="max-height: 200px;
          min-height: 200px;" src="../media/sports/lacrosse.jpg">
        {% elif event.event.sport == "Netball" %}
          <img class="card-img-top" style="max-height: 200px;
          min-height: 200px;" src="../media/sports/netball.jpg">
        {% elif event.event.sport == "Rugby" %}
          <img class="card-img-top" style="max-height: 200px;
          min-height: 200px;" src="../media/sports/rugby.jpg">
        {% elif event.event.sport == "Softball" %}
          <img class="card-img-top" style="max-height: 200px;
          min-height: 200px;" src="../media/sports/softball.jpg">
        {% elif event.event.sport == "Tennis" %}
          <img class="card-img-top" style="max-height: 200px;
          min-height: 200px;" src="../media/sports/tennis.jpg">
        {% elif event.event.sport == "Volleyball" %}
          <img class="card-img-top" style="max-height: 200px;
          min-height: 200px;" src="../media/sports/volleyball.jpg">
        {%endif%}

          <div class="card-body" style="text-align: left">
          <h1>    
            <a href="{% url 'event-detail' event.event.id %}">{{event.event.name}}</a>
          </h1>
          <div style = "font-size: 18px;"><b>Sport: </b> {{event.event.sport.capitalize}}</div>
          <div style = "font-size: 18px;"><b>Squad Capacity: </b> {{event.event.numberOfPlayers}}</div>
          <div style = "font-size: 18px;"><b>Venue: </b> {{event.event.address}}</div>
          {% if event.event.borough != "" %}
            <div style = "font-size: 18px;"><b>Borough: </b> {{event.event.borough}}</div>
          {% endif %}
          <div style = "font-size: 18px;"><b>Date: </b> {{event.event.date}}</div>
          <div style = "font-size: 18px;"><b>Creator: </b> {{event.event.owner}}</div>
          </div>
        </div>
      {% endif %}
  {% endfor %}
  </div>
{% else %}
<div class=" d-flex justify-content-center align-items-center" style="margin-top: 18%">
  <h1 style="color:white";> Explore new ways to stay active in NYC. 
    <div class="d-flex flex-column align-items-center">
      <h1 style="color: white">Find your Outdoor Squad!</h1>
        <button class="btn btn-light";">
        <a href="{% url 'signup' %}" style="text-decoration:none; color:black">Sign Up</a>
    </div>
  </h1>
</div> 

{% endif %}
{% endblock %} 
